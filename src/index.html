<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GALAXY QUEST</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link rel="icon" href="./images/favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <div id="menu-container">
      <div id="scrolling-text">
        <div class="headings">
          <h1 style="color: #a91c19">Galaxy Quest</h1>
        </div>
        <p>
          In a distant future, humanity has explored and colonized numerous
          planets across the galaxy. However, during these explorations, the
          colonists discovered a mysterious phenomenon called the "Temporal
          Anomaly."
        </p>
        <p>
          This anomaly causes spatio-temporal distortions on certain planets,
          regressing them to different historical eras. When the spacecraft of
          the explorers come into contact with the Temporal Anomaly while
          landing on these planets, a reaction occurs, merging the advanced
          technologies of the spacecraft with the medieval environment of the
          affected planet.
        </p>
        <p>
          This creates a unique universe where the colonists find themselves in
          a medieval world with weapons and enemies typical of that era, but
          with futuristic elements from their spaceship. To add a threat and
          justify the presence of hostile skeletons, you can explain that the
          Temporal Anomaly also has a detrimental effect on living creatures.
        </p>
        <p>
          Living beings on these planets are corrupted and transformed into evil
          and undead creatures. Skeletons are the most common manifestations of
          this corruption, with their frightening appearance and thirst for
          destruction. Thus, players find themselves in a hostile environment
          where they must survive by using both the advanced weapons and
          technology of their spaceship and the medieval weapons and skills they
          discover in this merged universe.
        </p>
      </div>
      <div id="start-button">
        <a href="3D_scene.html" style="--clr: #8a0806"
          ><span>Start</span><i></i
        ></a>
      </div>
      <div id="about">
        <a href="https://holbertonblog.aafu1.repl.co/" style="--clr: #8a0806"
          ><span>a b o u t</span><i></i
        ></a>
      </div>
      <div id="how-button">
        <a href="#" style="--clr: #8a0806"><span>How to PLay</span><i></i></a>
      </div>
    </div>
    <div class="info-window window windowHow">
      <span class="close-window"><button>&times</button></span>
      <p
        style="
          color: #e4d2d2;
          text-align: center;
          font-weight: bold;
          opacity: 0.1;
          margin-bottom: 20px;
          font-size: 18px;
        "
      >
        a z e r t y
      </p>
      <div class="how">
        <p>
          <strong>Drive the Spaceship</strong>
        </p>
        <ul>
          <li><kbd>Z</kbd> to go forward</li>
          <li><kbd>S</kbd> to go backward</li>
          <li><kbd>Q</kbd> to go left</li>
          <li><kbd>&larr;</kbd> to rotate left</li>
          <li><kbd>D</kbd> to go right</li>
          <li><kbd>&rarr;</kbd> to rotate right</li>
          <li><kbd>Space</kbd> or <kbd>&uarr;</kbd> to go up</li>
          <li><kbd>Left Shift</kbd> or <kbd>&darr;</kbd> to go down</li>
        </ul>
        <p><strong>Survive Monsters</strong></p>
        <ul>
          <li><kbd>Space</kbd> to attack</li>
          <li><kbd>&uarr;</kbd> or <kbd>Z</kbd> to go up</li>
          <li><kbd>&darr;</kbd> or <kbd>S</kbd> to go down</li>
          <li><kbd>&larr;</kbd> or <kbd>Q</kbd> to go left</li>
          <li><kbd>&rarr;</kbd> or <kbd>D</kbd> to go right</li>
        </ul>
      </div>
    </div>

    <img
      src="./images/logo-v2.png"
      alt="GALAXY QUEST"
      class="intro"
      onclick='
      menuContainer = document.getElementById("menu-container");
      const hash = window.location.hash;
      const menuMusic = document.getElementById("menuMusic");
      

      if (hash === "#MENU") {
        hideContainer();
        menuMusic.play();
      } else {
        const introButton = document.querySelector(".intro");
        const menuContainer = document.getElementById("menu-container");

        introButton.style.display = "none";
        menuContainer.style.display = "block";

        history.pushState(null, "", "#MENU");

      }'
      style="cursor: pointer"
    />
    <audio
      id="menuMusic"
      loop
      src="./background-music/epicaly-113907.mp3"
    ></audio>
    <audio
      id="startSound"
      src="./background-music/fantasy_ui_button_6-102219.mp3"
    ></audio>
    <script>
      let menuContainer = document.getElementById("menu-container");
      const introButton = document.querySelector(".intro");
      console.log(introButton);
      window.addEventListener("DOMContentLoaded", function () {
        const hash = window.location.hash;
        menuMusic.volume = 0.1;

        if (hash === "#MENU") {
          const introButton = document.querySelector(".intro");
          const menuContainer = document.getElementById("menu-container");

          introButton.style.display = "block";
          menuContainer.style.display = "none";
          history.pushState(null, "", "#GALAXYQUEST");
          menuMusic.play();
        } else {
          const introButton = document.querySelector(".intro");
          const menuContainer = document.getElementById("menu-container");

          introButton.style.display = "block";
          menuContainer.style.display = "none";
          history.pushState(null, "", "#GALAXYQUEST");
        }
      });

      const menuMusic = document.getElementById("menuMusic");
      const audioSources = [
        "./background-music/epicaly-113907.mp3",
        "./background-music/epic-dramatic-action-trailer-99525.mp3",
      ];
      let currentSourceIndex = 0;
      const startSound = document.getElementById("startSound");

      let cursorVisible = false;
      let cursorTimeout;
      function showCursor() {
        if (!cursorVisible) {
          document.body.style.cursor = "auto";
          cursorVisible = true;
        }

        clearTimeout(cursorTimeout);
        cursorTimeout = setTimeout(hideCursor, 1000); // Hide the cursor after 1 second of inactivity
      }

      function hideCursor() {
        if (cursorVisible) {
          document.body.style.cursor = "none";
          cursorVisible = false;
        }
      }
      const startButton = document.getElementById("start-button");
      const howButton = document.getElementById("how-button");
      const aboutButton = document.getElementById("about");
      const windowHow = document.querySelector(".windowHow");
      const closeButton = document.querySelector(".close-window");
      const textIntro = document.getElementById("scrolling-text");

      startButton.addEventListener("mouseover", function () {
        startSound.currentTime = 0;
        startSound.play();
        startSound.volume = 0.2;
        closeButton.click();
      });
      howButton.addEventListener("mouseover", function () {
        if (windowHow.style.display === "block") return;
        startSound.currentTime = 0;
        startSound.play();
        startSound.volume = 0.2;
      });
      aboutButton.addEventListener("mouseover", function () {
        if (windowHow.style.display === "block") return;
        startSound.currentTime = 0;
        startSound.play();
        startSound.volume = 0.2;
      });
      let open = 0;
      howButton.addEventListener("click", function () {
        windowHow.style.display = "block";
        menuContainer.style.opacity = 0.3;
        textIntro.classList.add("animation-paused");
        setTimeout(() => {
          open = 1;
        }, 100);

        windowHow.style.opacity = 1;
      });
      closeButton.addEventListener("click", function () {
        windowHow.style.display = "none";
        menuContainer.style.opacity = 1;
        textIntro.classList.remove("animation-paused");
        open = 0;
      });
      menuContainer.addEventListener("click", function () {
        if (open === 1) closeButton.click();
      });
      introButton.addEventListener("mouseover", function () {
        startSound.currentTime = 0;
        startSound.play();
        startSound.volume = 0.2;
      });

      // EVENT LISTENERS TO DETECT MOUSE MOVEMENT
      document.addEventListener("keydown", function (event) {
        if (event.code === "Enter" && menuContainer.style.display === "block") {
          startSound.play();
          startSound.volume = 0.2;
          window.location.href = "3D_scene.html";
          console.log(456);
        }
        if (event.code === "Enter" && menuContainer.style.display !== "block")
          introButton.click();
        if (event.code === "Escape") closeButton.click();
      });
      document.addEventListener("mousemove", showCursor);
      document.addEventListener("mouseenter", showCursor);
      document.addEventListener("mouseleave", hideCursor);
    </script>
  </body>
</html>
